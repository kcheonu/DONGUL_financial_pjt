### 평점보다는 금리가 더 중요하지 않을까?
- 금융 상품 추천에서는 금리가 사용자에게 가장 중요한 요소일 가능성이 높음
- 예금이나 적금 같은 금융 상품은 이자 수익이 주요 목적인 경우가 많음
- 금리가 높으면 고객의 관심도가 높아짐
- 하지만, 평점도 무시할 수 없음. 서비스 품질, 편의성, 신뢰성이 중요한 금융상품(장기 상품)등에서는 평점이 보조적인 판단 기준이 됨
- 평점이 일정수준 이상인 상품만 추천 리스트에 포함시키는 방법으로 보완이 필요함

### 주거래 은행이 더 선호되니까 점수를 더 줘야되지않을까?
- 사용자들이 주거래 은행을 더 선호하는 경향이 있으므로 주거래 은행의 상품에 대해 가중치를 높게 주는 것이 좋음. 이를 통해 주거래 은행 상품이 다른 은행의 비슷한 상품보다 추천 우선순위에 오르게 해야한다.
- + 추가적인 의문 사항 : 주거래 은행의 상품과의 어느정도 금리차이까지 감안해 줘야할까? 아니면, 주거래 은행에서 해당 상품의 금리와 최대한 비슷한 상품을 추천해주는건 어떨까

### 은행의 점포수가 중요하지 않을까? 사용자의 은행접근방식에 대한 차이.....
- 대출상품을 이용하는 경우, 대면형식과 비대면형식중 선호도 조사를 통해 어떤 서비스를 제공해줘야하는지 고민이 필요함.
- 대면형식을 선호하는 경우 은행의 점포수 및 이용자의 거주지나 회사의 주소와 가까운 은행들이면 좋음.
- 사용자에게서 거주지나 회사의 주소, 대면형식에 대한 선호도 조사를 입력받으면 좋음.

### 예금이나 적금 기간에 따른 우대 금리로 인해 금리 변동사항이 크다면 먼저 저축기간에 대한 조사가 필요
- 저축 기간에 따른 우대 금리 적용: 사용자가 설정한 저축기간이 상품의 저축기간 내에 있을 때 우대금리 추가가능하다면, 추가
- 저축 기간 필터링: 사용자가 입력한 저축기간에 맞는 상품만 추천 대상에 포함
- 맞춤형 추천, 사용자가 설정한 저축 기간, 서비스 선호도, 나이 등을 종합적으로 반영하여 가장 적합한 상품 추천

### 저축금액에 대한 상한선이 존재한다면 어떤 상품을 추천해줘야 할까?
- 접근방식
- 저축 금액 상한선 조건 확인 : 사용자가 입력한 저축 금액이 상품의 상한선을 초과하는지 확인
- 상한선을 초과하는 경우
  - 다른 상품 추천 : 상한선에 맞춰 최대한 높은 금리를 제공하는 상품을 추천
  - 분할 투자 추천 : 상한선 이하의 상품에 나눠 저축할 수 있도록 여러 상품을 추천. 주거래 은행과 다른 은행의 상품을 조합하여 금리와 상한선 제한을 모두 만족시킬 수 있도록

### 저축기간에 따른 우대금리를 적용해 줬을 때, 해당 기간동안 금리를 제일 높게 받을 수있는 상품을 추천해줘야한다.
- 우대금리 가중치를 언제 높이는게 더 나은 유저 선호 서비스를 제공할 수 있는 것일까?
- 우대 금리 가중치를 높여야 하는 경우
  1. 사용자가 특정 조건에 가까울 때
    - 예금 및 적금 기간: 사용자가 원하는 저축기간이 상품의 우대금리 적용기간과 일치할 때 우대금리를 적용하면 사용자는 자신에게 최적화된 금리를 제공받는 느낌을 받을 수 있음
    - 저축 금액 한도 내의 자금 사용: 저축 금액이 상한선을 초과하지 않는 상품에 우대 금리를 높여 추천하면, 사용자가 실제로 활용할 수 있는 상품으로 관심을 집중할 수 있음

  2. 사용자의 선호 은행 또는 주거래 은행일 때
    - 주거래 은행에 대한 신뢰와 선호도가 높은 사용자에게 해당 은행에서 제공하는 우대 금리가 적용된 상품을 우선 추천하는 것이 사용자 만족도를 높일 수 있음
    - 주거래 은행의 특정 상품에 대해 우대 금리 조건이 있다면 해당 조건을 충족할 수 있는 경우 추천 목록 상단에 노출하는 방식

  3. 사용자가 추가 조건을 충족할 가능성이 클 때
    - 자동이체나 급여 이체, 카드 사용 실적 등 조건: 우대 금리를 받을 수 있는 부가 조건을 사용자에게 제시하고, 충족 가능성이 높은 조건을 포함한 상품을 추천하는 방식
    - 사용자가 이미 은행 카드를 보유하고 있거나, 해당 은행으로 급여 이체를 설정한 경우라면 이러한 조건을 포함한 상품을 추천해 혜택을 최대화할 수 있음

  4. 연령대 및 라이프 스테이지에 따라 혜택이 클때
    - 젊은 층을 위한 청년 우대금리 상품 : 20대 또는 30대 사용자에게 청년 우대금리가 적용되는 상품을 우선 추천
    - 은퇴자 및 고령층 대상의 상품 : 특정 타겟층에 대한 우대 금리 상품이 있다면 이를 우선 추천
### 위 해당 사항에 따른 추가 정보를 사용자가 입력, 제공할 수 있도록 하는 폼이 필요하다.

# 폼 만들어 주세요 성재씨

### 현재 개인 맞춤형 금융상품 추천해주는 방식에는 어떤 것들이 있을까?
- 시장조사:
- 카카오뱅크: 고객의 금융 데이터를 분석하여 개인화된 금융 상품을 추천합니다. 예를 들어, 소득과 소비 패턴에 맞는 신용카드나 대출 상품을 추천합니다.

- 핀크(FINCK): 고객의 거래 이력을 기반으로 사용자가 관심을 가질만한 금융 상품을 추천하고, 소비 성향에 맞춰 대출 상품이나 저축 상품을 제안합니다.

- 네이버 파이낸셜: 머신러닝 알고리즘을 활용해 네이버 앱 내의 고객 데이터를 분석하여 금융 상품을 추천합니다.

### 금융감독원 정기예금 API 추출 데이터 종류
1. 공시 종료일
2. 공시 제출월
3. 공시 시작일
4. 기타유의사항
5. 금융회사 코드
6. 금융회사 제출일
7. 금융상품 코드
8. 금융상품명
9. 가입 제한(1. 제한없음, 2. 서민전용, 3. 일부제한)
10. 가입대상
11. 가입방법
12. 금융회사명
13. 최고한도
14. 만기 후 이자율
15. 우대 조건

### 소비자에게 입력받아야 되는 정보
1. 선호 은행 리스트
2. 가입되어 있는 은행(신규고객 가입 가능 여부)
3. 가입방법(대면, 비대면, 모바일, 인터넷, 테렐뱅킹 등등)
4. 거주지 정보 입력(근처 은행영업점 존재 유무)
5. 가입 희망 기간
6. 상품 가입 금액(최고한도를 넘어서는지에 대한 판단 기준)
7. 자동이체 설정 가능 여부(우대 조건 달성 여부 판단)
8. 급여통장 설정 가능 여부(우대 조건 달성 여부 판단)

### API로 받아오고 데이터에 저장해놀 내용
+ 상품정보 갱신 및 데이터 추출 주기 정해놓아야 함. 추천해줄때마다 API로 데이터 읽어오기 너무 비효율적이라고 생각함
필요한 데이터
1. 공시 종료일(소비자의 가입희망 기간 전에 종료되면 안됨.) => 특판중인 상품인 경우, 가입가능 기간이 짧을 수 있음
2. 금융회사 코드 (금융회사명과 dict자료형으로 묶으면서 저장해놓아야 한다고 생각, 이후 소비자가 상품의 디테일로 들어갔을 때, 회사명을 str로 추출해줘야함)
3. 금융상품 코드 (금융상품명과 dict자료형으로 묶으면서 저장해놓아야 한다고 생각, 이후 소비자가 상품의 디테일로 들어갔을 때, 상품명을 str로 리턴해줘야함)
4. 가입 방법 (대면 가입이 가능한지에 따른 추천리스트 추출과정에서 종합적인 가중치 계산에 필요)
5. 우대금리 적용 가능한 옵션 확인(신규고객, 가계대출 이용고객, 통신비/공과금 자동이체 등 주거래 우대조건 만족 유무 판단 기준) + 우대금리 최고한도퍼센트 확인
6. 가입제한 조건
7. 최고한도 (소비자가 가입하고자 하는 금액보다 적은 경우 또다른 추천상품을 추가로 제공해주어야함. 소비자가 희망하는 가입금액과 이전 최고의 점수를 받은 상품의 최고한도 금액의 차액으로 한번 더 추천 리스트 추가제공)

### 최우선 파악할 내용(데이터 가치 평가)
* 1순위
  - 가입 대상: 기업전용 상품과, 개인이 가입 가능한 상품에 대한 분류 필요
  - 가입제한 조건 확인(나이, 가입금액, 자산규모, 소득규모, 신혼부부, 청년, 청소년 등) 소비자의 현재 상황에 따라 가입가능한지에 대한 판단 기준
  - 공시종료일(소비자의 가입희망 기간 전 종료되는 상품인 경우 추천 불가)
* 2순위
  - 가입방법 (인터넷, 스마트폰, 텔레뱅킹, 영업점 방문) - 특수하게 모바일뱅킹 전용 상품들이 존재하기 때문에 이에 맞는 추출 필요
* 3순위
  - 금융회사 종류(선호 기업 리스트에 해당 회사가 존재하는지에 대한 존재 유무 확인)
* 4순위
  - 우대금리 적용가능한 지에 대한 소비자가 입력해준 조건 확인 후, 우대금리 가정된 새로운 금리로 추천리스트에 대한 종합평가가 필요.
  - 최고한도 금액을 넘어서지 않도록 상품 추천(희망하는 금액이 상품의 최고한도를 넘어섰을 때, 그 차액에 대한 추가적인 추천 상품 제공필요)

+ 금융상품에 대한 상세정보 조회를 원하는 경우 해당 금융회사 코드와 상품코드를 통해 str데이터 추출 및 반환(금융회사명, 금융상품명, 금리, 기타유의사항, 가입방법, 가입대상, 최고한도등)
+ 만기일자를 예상하고 그에 맞게 새로운 예적금 상품을 가입할 수 있도록 알림서비스를 적용해주면 좋을듯?(개인적인 의견, 욕심, 안해도 됨)



### 평가 요소
1. 대면, 비대면 이용자의 대면 방식
2. 금리(? 우대금리?)
3. 저축 기간
4. 저축 금액
5. 선호 은행
6. 이용자의 연령대
7. 이용자의 주소 위치
8. 해당 금융상품의 평점



### 환율그래프 만들기

- beautifulsoup4, selenium, chromedriver 설치
- 웹 크롤링으로
- [http](http://www.smbs.biz/ExRate/TodayExRate.jsp)
- 위 사이트에서 환율 정보 긁어서 저장하기, 
- 매일 08시 기준으로 데이터 확보(DB에 추가)
- 저장해논 데이터를 토대로 그래프 그리기 (08시 갱신)


### 마지막 gpt와의 대화 내용
해당 테이블 내용을 토대로 통화명별 그래프를 표현하고 싶어 - 프롬프트  
```python
import pandas as pd
import matplotlib.pyplot as plt

# CSV 파일 읽기
output_file = 'erg_output.csv'
data = pd.read_csv(output_file, encoding='utf-8-sig')

# 환율 데이터를 숫자로 변환
data['환율'] = data['환율'].str.replace(',', '').astype(float)

# 날짜 데이터를 datetime 형식으로 변환
data['Date'] = pd.to_datetime(data['Date'])

# 통화명 기준으로 그룹화
grouped = data.groupby('통화명')

# 그래프 그리기
for name, group in grouped:
    plt.figure(figsize=(10, 6))
    plt.plot(group['Date'], group['환율'], marker='o', label=name)
    plt.title(f"{name} 환율 변화", fontsize=16)
    plt.xlabel("날짜", fontsize=12)
    plt.ylabel("환율 (KRW)", fontsize=12)
    plt.xticks(rotation=45)
    plt.grid(True)
    plt.legend()
    plt.tight_layout()
    # 그래프 저장 (선택 사항)
    plt.savefig(f"{name.replace(' ', '_').replace('/', '_')}_환율_변화.png")
    plt.show()

print("통화명별 그래프 생성 완료!")

```